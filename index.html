<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">

  <!-- set viewport to device width to make site responsive -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- bootstrap css -->
  <link type="text/css" rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">

  <!-- custom styles -->
  <link rel="stylesheet" type="text/css" href="main.css">

  <title>AJAX Book App</title>
</head>
<body>
  <div class="container">
    <div class="row">
      <div class="col-md-6 col-md-offset-3">
          <h1 class="text-center">AJAX Book App</h1>
        <br>
          <h3 class='text-center'>Add New Book</h1>
        <form id='submit_book'>
          <div class='form-group'>  
            <input type="text" class='form-control'name='title' placeholder='Enter book title'>
          </div>
          <div class='form-group'>
            <input type="text" class='form-control'name='author' placeholder='Enter author'>
          </div>
          <div class='form-group'>
            <input type="text" class='form-control'name='image' placeholder='Enter img url'>          
          </div>
          <div class='form-group'>
            <input type="text" class='form-control'name='releaseDate' placeholder='Enter date released'>
          </div>
          <div class='form-group'>
            <input type="submit" class='btn btn-primary' value='Add Book!'>
          </div>
        </form>
        <div id="books-list">
          <script type="text/x-handlebars-template" id='books_template'>
          {{#each books}}
          <div class="book" >
            <div class='row'>
              <div class='col-md-4'>
              {{#if image}}
                  <img src='{{image}}' class='img-responsive'>
                  {{else}}
                  <img src='http://i.imgur.com/I8TDLRq.jpg' class='img-responsive'>
              {{/if}}
                </div>

                <div class='col-md-8'>
                  <p><strong>Title:</strong> {{title}}</p>
                  <p><strong>Author:</strong> {{author}}</p>
                  <p><strong>Release Date:</strong> {{releaseDate}}</p>
                  <a href='#' class='btn btn-primary btn-sm edit_book del_up' id='{{_id}}' data-toggle='collapse' data-target='#edit{{_id}}'>Edit</a>
                  <a href='#' class='btn btn-danger btn-sm delete_book del_up' id="{{_id}}">Delete</a>
                  
                  <div class='collapse' id='edit{{_id}}'>
                    <form class='edit_book_form'>
                      <div class='form-group'>  
                        <input type="text" class='form-control'name='title' placeholder='Enter book title'>
                      </div>
                      <div class='form-group'>
                        <input type="text" class='form-control'name='author' placeholder='Enter author'>
                      </div>
                      <div class='form-group'>
                        <input type="text" class='form-control'name='image' placeholder='Enter img url'>          
                      </div>
                      <div class='form-group'>
                        <input type="text" class='form-control'name='releaseDate' placeholder='Enter date released'>
                      </div>
                      <div class='form-group'>
                        <input type="submit" class='btn btn-success' value='Update'>
                      </div>
                    </form>
                  </div>

                </div>
              </div>
            {{/each}}
            </div>
          </script>
        </div>
      </div>
    </div>
  </div>
  
  <!-- jquery -->
  <script type="text/javascript" src="https://code.jquery.com/jquery-1.11.3.min.js"></script>

  <!-- bootstrap js -->
  <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

  <!-- handlebars -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.3/handlebars.min.js"></script>

  <!-- custom script -->
  <script type="text/javascript" src="main.js"></script>
</body>
</html>